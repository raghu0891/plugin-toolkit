{"abi":[{"type":"function","name":"getBlockhash","inputs":[{"name":"n","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"store","inputs":[{"name":"n","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"storeEarliest","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"storeVerifyHeader","inputs":[{"name":"n","type":"uint256","internalType":"uint256"},{"name":"header","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b506102e2806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80636057361d1461005157806383b6d6b714610070578063e9413d3814610078578063fadff0e1146100a7575b600080fd5b61006e6004803603602081101561006757600080fd5b5035610154565b005b61006e6101b0565b6100956004803603602081101561008e57600080fd5b50356101bf565b60408051918252519081900360200190f35b61006e600480360360408110156100bd57600080fd5b813591908101906040810160208201356401000000008111156100df57600080fd5b8201836020820111156100f157600080fd5b8035906020019184600183028401116401000000008311171561011357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610226945050505050565b80408061019e576040805162461bcd60e51b8152602060048201526013602482015272189b1bd8dada185cda0a1b8a4819985a5b1959606a1b604482015290519081900360640190fd5b60009182526020829052604090912055565b6101bd6101004303610154565b565b60008181526020819052604081205480610220576040805162461bcd60e51b815260206004820152601c60248201527f626c6f636b68617368206e6f7420666f756e6420696e2073746f726500000000604482015290519081900360640190fd5b92915050565b60008083600101815260200190815260200160002054818051906020012014610296576040805162461bcd60e51b815260206004820152601c60248201527f6865616465722068617320756e6b6e6f776e20626c6f636b6861736800000000604482015290519081900360640190fd5b602401516000918252602082905260409091205556fea2646970667358221220b28c8141b44359d70d3796be11fbe0e2d11b89e72289c84a1f4cd203b37392cc64736f6c63430006060033","sourceMap":"544:2495:12:-:0;;;;5:9:-1;2:2;;;27:1;24;17:12;2:2;544:2495:12;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061004c5760003560e01c80636057361d1461005157806383b6d6b714610070578063e9413d3814610078578063fadff0e1146100a7575b600080fd5b61006e6004803603602081101561006757600080fd5b5035610154565b005b61006e6101b0565b6100956004803603602081101561008e57600080fd5b50356101bf565b60408051918252519081900360200190f35b61006e600480360360408110156100bd57600080fd5b813591908101906040810160208201356401000000008111156100df57600080fd5b8201836020820111156100f157600080fd5b8035906020019184600183028401116401000000008311171561011357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610226945050505050565b80408061019e576040805162461bcd60e51b8152602060048201526013602482015272189b1bd8dada185cda0a1b8a4819985a5b1959606a1b604482015290519081900360640190fd5b60009182526020829052604090912055565b6101bd6101004303610154565b565b60008181526020819052604081205480610220576040805162461bcd60e51b815260206004820152601c60248201527f626c6f636b68617368206e6f7420666f756e6420696e2073746f726500000000604482015290519081900360640190fd5b92915050565b60008083600101815260200190815260200160002054818051906020012014610296576040805162461bcd60e51b815260206004820152601c60248201527f6865616465722068617320756e6b6e6f776e20626c6f636b6861736800000000604482015290519081900360640190fd5b602401516000918252602082905260409091205556fea2646970667358221220b28c8141b44359d70d3796be11fbe0e2d11b89e72289c84a1f4cd203b37392cc64736f6c63430006060033","sourceMap":"544:2495:12:-:0;;;;5:9:-1;2:2;;;27:1;24;17:12;2:2;544:2495:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12:1:-1;9;2:12;799:140:12;;;;;;15:2:-1;10:3;7:11;4:2;;;31:1;28;21:12;4:2;-1:-1;799:140:12;;:::i;:::-;;1043:70;;;:::i;2864:173::-;;;;;;15:2:-1;10:3;7:11;4:2;;;31:1;28;21:12;4:2;-1:-1;2864:173:12;;:::i;:::-;;;;;;;;;;;;;;;;1483:1202;;;;;;15:2:-1;10:3;7:11;4:2;;;31:1;28;21:12;4:2;1483:1202:12;;;;;;;;;;;;;;27:11:-1;11:28;;8:2;;;52:1;49;42:12;8:2;1483:1202:12;;41:9:-1;34:4;18:14;14:25;11:40;8:2;;;64:1;61;54:12;8:2;1483:1202:12;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;1483:1202:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;1483:1202:12;;-1:-1:-1;1483:1202:12;;-1:-1:-1;;;;;1483:1202:12:i;799:140::-;850:12;;876:8;868:40;;;;;-1:-1:-1;;;868:40:12;;;;;;;;;;;;-1:-1:-1;;;868:40:12;;;;;;;;;;;;;;;914:13;:16;;;;;;;;;;;:20;799:140::o;1043:70::-;1083:25;1104:3;1089:12;:18;1083:5;:25::i;:::-;1043:70::o;2864:173::-;2920:7;2947:16;;;;;;;;;;;2977:8;2969:49;;;;;-1:-1:-1;;;2969:49:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;3031:1;2864:173;-1:-1:-1;;2864:173:12:o;1483:1202::-;1584:13;:20;1598:1;1602;1598:5;1584:20;;;;;;;;;;;;1573:6;1563:17;;;;;;:41;1555:82;;;;;-1:-1:-1;;;1555:82:12;;;;;;;;;;;;;;;;;;;;;;;;;;;;2481:2;2469:15;2463:22;2408:18;2651:16;;;;;;;;;;;:29;1483:1202::o","linkReferences":{}},"methodIdentifiers":{"getBlockhash(uint256)":"e9413d38","store(uint256)":"6057361d","storeEarliest()":"83b6d6b7","storeVerifyHeader(uint256,bytes)":"fadff0e1"},"rawMetadata":"{\"compiler\":{\"version\":\"0.6.6+commit.6c089d02\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"n\",\"type\":\"uint256\"}],\"name\":\"getBlockhash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"n\",\"type\":\"uint256\"}],\"name\":\"store\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"storeEarliest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"n\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"header\",\"type\":\"bytes\"}],\"name\":\"storeVerifyHeader\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{\"getBlockhash(uint256)\":{\"params\":{\"n\":\"the number of the block whose blockhash should be returned\"}},\"store(uint256)\":{\"params\":{\"n\":\"the number of the block whose blockhash should be stored\"}},\"storeVerifyHeader(uint256,bytes)\":{\"params\":{\"header\":\"the rlp-encoded blockheader of block n+1. We verify its correctness by checking  that it hashes to a stored blockhash, and then extract parentHash to get the n-th blockhash.\",\"n\":\"the number of the block whose blockhash should be stored\"}}},\"title\":\"BlockhashStore\"},\"userdoc\":{\"methods\":{\"getBlockhash(uint256)\":{\"notice\":\"gets a blockhash from the store. If no hash is known, this function reverts.\"},\"store(uint256)\":{\"notice\":\"stores blockhash of a given block, assuming it is available through BLOCKHASH\"},\"storeEarliest()\":{\"notice\":\"stores blockhash of the earliest block still available through BLOCKHASH.\"},\"storeVerifyHeader(uint256,bytes)\":{\"notice\":\"stores blockhash after verifying blockheader of child/subsequent block\"}},\"notice\":\"This contract provides a way to access blockhashes older than  the 256 block limit imposed by the BLOCKHASH opcode.  You may assume that any blockhash stored by the contract is correct.  Note that the contract depends on the format of serialized Ethereum  blocks. If a future hardfork of Ethereum changes that format, the   logic in this contract may become incorrect and an updated version   would have to be deployed.\"}},\"settings\":{\"compilationTarget\":{\"lib/chainlink-brownie-contracts/contracts/src/v0.6/dev/BlockhashStore.sol\":\"BlockhashStore\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink-brownie-contracts/contracts/src/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/contracts/src/v0.6/vendor/@arbitrum/nitro-contracts/src/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/chainlink-brownie-contracts/contracts/src/v0.6/dev/BlockhashStore.sol\":{\"keccak256\":\"0x3c03a9132a71f7764543dcf47eb22b8d0a5885deec483c6c3b88a3b6db81819b\",\"urls\":[\"bzz-raw://b3aa93c58529cb1effe9f7d61472d00eca355aee19cd20fff8b4e0b92cbf67f8\",\"dweb:/ipfs/QmcKHKzNNJEVfG7NtLVG8xLY3UnaoxiVnV8keoVPNxuZsf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.6.6+commit.6c089d02"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"n","type":"uint256"}],"stateMutability":"view","type":"function","name":"getBlockhash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"uint256","name":"n","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"store"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"storeEarliest"},{"inputs":[{"internalType":"uint256","name":"n","type":"uint256"},{"internalType":"bytes","name":"header","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"storeVerifyHeader"}],"devdoc":{"methods":{"getBlockhash(uint256)":{"params":{"n":"the number of the block whose blockhash should be returned"}},"store(uint256)":{"params":{"n":"the number of the block whose blockhash should be stored"}},"storeVerifyHeader(uint256,bytes)":{"params":{"header":"the rlp-encoded blockheader of block n+1. We verify its correctness by checking  that it hashes to a stored blockhash, and then extract parentHash to get the n-th blockhash.","n":"the number of the block whose blockhash should be stored"}}}},"userdoc":{"methods":{"getBlockhash(uint256)":{"notice":"gets a blockhash from the store. If no hash is known, this function reverts."},"store(uint256)":{"notice":"stores blockhash of a given block, assuming it is available through BLOCKHASH"},"storeEarliest()":{"notice":"stores blockhash of the earliest block still available through BLOCKHASH."},"storeVerifyHeader(uint256,bytes)":{"notice":"stores blockhash after verifying blockheader of child/subsequent block"}}}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink-brownie-contracts/contracts/src/","@openzeppelin/=lib/openzeppelin-contracts/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/contracts/src/v0.6/vendor/@arbitrum/nitro-contracts/src/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/chainlink-brownie-contracts/contracts/src/v0.6/dev/BlockhashStore.sol":"BlockhashStore"},"libraries":{}},"sources":{"lib/chainlink-brownie-contracts/contracts/src/v0.6/dev/BlockhashStore.sol":{"keccak256":"0x3c03a9132a71f7764543dcf47eb22b8d0a5885deec483c6c3b88a3b6db81819b","urls":["bzz-raw://b3aa93c58529cb1effe9f7d61472d00eca355aee19cd20fff8b4e0b92cbf67f8","dweb:/ipfs/QmcKHKzNNJEVfG7NtLVG8xLY3UnaoxiVnV8keoVPNxuZsf"],"license":null}},"version":1},"ast":{"absolutePath":"lib/chainlink-brownie-contracts/contracts/src/v0.6/dev/BlockhashStore.sol","id":4743,"exportedSymbols":{"BlockhashStore":[4742]},"nodeType":"SourceUnit","src":"32:3008:12","nodes":[{"id":4642,"nodeType":"PragmaDirective","src":"32:22:12","nodes":[],"literals":["solidity","0.6",".6"]},{"id":4742,"nodeType":"ContractDefinition","src":"544:2495:12","nodes":[{"id":4647,"nodeType":"VariableDeclaration","src":"573:47:12","nodes":[],"constant":false,"mutability":"mutable","name":"s_blockhashes","overrides":null,"scope":4742,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"typeName":{"id":4646,"keyType":{"id":4644,"name":"uint","nodeType":"ElementaryTypeName","src":"581:4:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"573:24:12","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"valueType":{"id":4645,"name":"bytes32","nodeType":"ElementaryTypeName","src":"589:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"value":null,"visibility":"internal"},{"id":4673,"nodeType":"FunctionDefinition","src":"799:140:12","nodes":[],"body":{"id":4672,"nodeType":"Block","src":"832:107:12","nodes":[],"statements":[{"assignments":[4654],"declarations":[{"constant":false,"id":4654,"mutability":"mutable","name":"h","nodeType":"VariableDeclaration","overrides":null,"scope":4672,"src":"838:9:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4653,"name":"bytes32","nodeType":"ElementaryTypeName","src":"838:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":4658,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":4656,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4650,"src":"860:1:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4655,"name":"blockhash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-5,"src":"850:9:12","typeDescriptions":{"typeIdentifier":"t_function_blockhash_view$_t_uint256_$returns$_t_bytes32_$","typeString":"function (uint256) view returns (bytes32)"}},"id":4657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"850:12:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"838:24:12"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":4662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":4660,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4654,"src":"876:1:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"307830","id":4661,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"881:3:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"src":"876:8:12","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"626c6f636b68617368286e29206661696c6564","id":4663,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"886:21:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_018c9368d3518fca10542b03ac3f8a0575431fdef701551b9b0b9e98d6f30ce0","typeString":"literal_string \"blockhash(n) failed\""},"value":"blockhash(n) failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_018c9368d3518fca10542b03ac3f8a0575431fdef701551b9b0b9e98d6f30ce0","typeString":"literal_string \"blockhash(n) failed\""}],"id":4659,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"868:7:12","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4664,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"868:40:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4665,"nodeType":"ExpressionStatement","src":"868:40:12"},{"expression":{"argumentTypes":null,"id":4670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":4666,"name":"s_blockhashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4647,"src":"914:13:12","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":4668,"indexExpression":{"argumentTypes":null,"id":4667,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4650,"src":"928:1:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"914:16:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":4669,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4654,"src":"933:1:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"914:20:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":4671,"nodeType":"ExpressionStatement","src":"914:20:12"}]},"documentation":{"id":4648,"nodeType":"StructuredDocumentation","src":"625:171:12","text":"@notice stores blockhash of a given block, assuming it is available through BLOCKHASH\n@param n the number of the block whose blockhash should be stored"},"functionSelector":"6057361d","implemented":true,"kind":"function","modifiers":[],"name":"store","overrides":null,"parameters":{"id":4651,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4650,"mutability":"mutable","name":"n","nodeType":"VariableDeclaration","overrides":null,"scope":4673,"src":"814:9:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4649,"name":"uint256","nodeType":"ElementaryTypeName","src":"814:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"813:11:12"},"returnParameters":{"id":4652,"nodeType":"ParameterList","parameters":[],"src":"832:0:12"},"scope":4742,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":4685,"nodeType":"FunctionDefinition","src":"1043:70:12","nodes":[],"body":{"id":4684,"nodeType":"Block","src":"1077:36:12","nodes":[],"statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4681,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":4678,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"1089:5:12","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":4679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"number","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1089:12:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"argumentTypes":null,"hexValue":"323536","id":4680,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1104:3:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"value":"256"},"src":"1089:18:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4677,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4673,"src":"1083:5:12","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":4682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1083:25:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4683,"nodeType":"ExpressionStatement","src":"1083:25:12"}]},"documentation":{"id":4674,"nodeType":"StructuredDocumentation","src":"944:96:12","text":"@notice stores blockhash of the earliest block still available through BLOCKHASH."},"functionSelector":"83b6d6b7","implemented":true,"kind":"function","modifiers":[],"name":"storeEarliest","overrides":null,"parameters":{"id":4675,"nodeType":"ParameterList","parameters":[],"src":"1065:2:12"},"returnParameters":{"id":4676,"nodeType":"ParameterList","parameters":[],"src":"1077:0:12"},"scope":4742,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4717,"nodeType":"FunctionDefinition","src":"1483:1202:12","nodes":[],"body":{"id":4716,"nodeType":"Block","src":"1549:1136:12","nodes":[],"statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":4702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":4695,"name":"header","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4690,"src":"1573:6:12","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":4694,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1563:9:12","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":4696,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1563:17:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":4697,"name":"s_blockhashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4647,"src":"1584:13:12","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":4701,"indexExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":4698,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4688,"src":"1598:1:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"hexValue":"31","id":4699,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1602:1:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1598:5:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1584:20:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1563:41:12","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6865616465722068617320756e6b6e6f776e20626c6f636b68617368","id":4703,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1606:30:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_e72729aef03ec384bb59db8c3284afd557374d3610d961dcbeb575d1b023635d","typeString":"literal_string \"header has unknown blockhash\""},"value":"header has unknown blockhash"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e72729aef03ec384bb59db8c3284afd557374d3610d961dcbeb575d1b023635d","typeString":"literal_string \"header has unknown blockhash\""}],"id":4693,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1555:7:12","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4704,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1555:82:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4705,"nodeType":"ExpressionStatement","src":"1555:82:12"},{"assignments":[4707],"declarations":[{"constant":false,"id":4707,"mutability":"mutable","name":"parentHash","nodeType":"VariableDeclaration","overrides":null,"scope":4716,"src":"2408:18:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4706,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2408:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":4708,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"2408:18:12"},{"AST":{"nodeType":"YulBlock","src":"2441:204:12","statements":[{"nodeType":"YulAssignment","src":"2449:36:12","value":{"arguments":[{"arguments":[{"name":"header","nodeType":"YulIdentifier","src":"2473:6:12"},{"kind":"number","nodeType":"YulLiteral","src":"2481:2:12","type":"","value":"36"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"2469:3:12"},"nodeType":"YulFunctionCall","src":"2469:15:12"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"2463:5:12"},"nodeType":"YulFunctionCall","src":"2463:22:12"},"variableNames":[{"name":"parentHash","nodeType":"YulIdentifier","src":"2449:10:12"}]}]},"evmVersion":"istanbul","externalReferences":[{"declaration":4690,"isOffset":false,"isSlot":false,"src":"2473:6:12","valueSize":1},{"declaration":4707,"isOffset":false,"isSlot":false,"src":"2449:10:12","valueSize":1}],"id":4709,"nodeType":"InlineAssembly","src":"2432:213:12"},{"expression":{"argumentTypes":null,"id":4714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":4710,"name":"s_blockhashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4647,"src":"2651:13:12","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":4712,"indexExpression":{"argumentTypes":null,"id":4711,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4688,"src":"2665:1:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2651:16:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":4713,"name":"parentHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4707,"src":"2670:10:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2651:29:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":4715,"nodeType":"ExpressionStatement","src":"2651:29:12"}]},"documentation":{"id":4686,"nodeType":"StructuredDocumentation","src":"1117:363:12","text":"@notice stores blockhash after verifying blockheader of child/subsequent block\n@param n the number of the block whose blockhash should be stored\n@param header the rlp-encoded blockheader of block n+1. We verify its correctness by checking\n  that it hashes to a stored blockhash, and then extract parentHash to get the n-th blockhash."},"functionSelector":"fadff0e1","implemented":true,"kind":"function","modifiers":[],"name":"storeVerifyHeader","overrides":null,"parameters":{"id":4691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4688,"mutability":"mutable","name":"n","nodeType":"VariableDeclaration","overrides":null,"scope":4717,"src":"1510:9:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4687,"name":"uint256","nodeType":"ElementaryTypeName","src":"1510:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":4690,"mutability":"mutable","name":"header","nodeType":"VariableDeclaration","overrides":null,"scope":4717,"src":"1521:19:12","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":4689,"name":"bytes","nodeType":"ElementaryTypeName","src":"1521:5:12","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"1509:32:12"},"returnParameters":{"id":4692,"nodeType":"ParameterList","parameters":[],"src":"1549:0:12"},"scope":4742,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":4741,"nodeType":"FunctionDefinition","src":"2864:173:12","nodes":[],"body":{"id":4740,"nodeType":"Block","src":"2929:108:12","nodes":[],"statements":[{"assignments":[4726],"declarations":[{"constant":false,"id":4726,"mutability":"mutable","name":"h","nodeType":"VariableDeclaration","overrides":null,"scope":4740,"src":"2935:9:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4725,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2935:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":4730,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":4727,"name":"s_blockhashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4647,"src":"2947:13:12","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":4729,"indexExpression":{"argumentTypes":null,"id":4728,"name":"n","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4720,"src":"2961:1:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2947:16:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2935:28:12"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":4734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":4732,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4726,"src":"2977:1:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"307830","id":4733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2982:3:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"src":"2977:8:12","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"626c6f636b68617368206e6f7420666f756e6420696e2073746f7265","id":4735,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2987:30:12","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_f2ccae2c8323e6d447d0a052ada5f2bb4ed07d4f8197923af250c4609a18b7fd","typeString":"literal_string \"blockhash not found in store\""},"value":"blockhash not found in store"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f2ccae2c8323e6d447d0a052ada5f2bb4ed07d4f8197923af250c4609a18b7fd","typeString":"literal_string \"blockhash not found in store\""}],"id":4731,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2969:7:12","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2969:49:12","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4737,"nodeType":"ExpressionStatement","src":"2969:49:12"},{"expression":{"argumentTypes":null,"id":4738,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4726,"src":"3031:1:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":4724,"id":4739,"nodeType":"Return","src":"3024:8:12"}]},"documentation":{"id":4718,"nodeType":"StructuredDocumentation","src":"2689:172:12","text":"@notice gets a blockhash from the store. If no hash is known, this function reverts.\n@param n the number of the block whose blockhash should be returned"},"functionSelector":"e9413d38","implemented":true,"kind":"function","modifiers":[],"name":"getBlockhash","overrides":null,"parameters":{"id":4721,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4720,"mutability":"mutable","name":"n","nodeType":"VariableDeclaration","overrides":null,"scope":4741,"src":"2886:9:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4719,"name":"uint256","nodeType":"ElementaryTypeName","src":"2886:7:12","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2885:11:12"},"returnParameters":{"id":4724,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4723,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","overrides":null,"scope":4741,"src":"2920:7:12","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4722,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2920:7:12","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2919:9:12"},"scope":4742,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":{"id":4643,"nodeType":"StructuredDocumentation","src":"56:487:12","text":"@title BlockhashStore\n@notice This contract provides a way to access blockhashes older than\n  the 256 block limit imposed by the BLOCKHASH opcode.\n  You may assume that any blockhash stored by the contract is correct.\n  Note that the contract depends on the format of serialized Ethereum\n  blocks. If a future hardfork of Ethereum changes that format, the \n  logic in this contract may become incorrect and an updated version \n  would have to be deployed."},"fullyImplemented":true,"linearizedBaseContracts":[4742],"name":"BlockhashStore","scope":4743}]},"id":12}